"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var _helpersCollection = require('../helpers/Collection');

var _helpersCollection2 = _interopRequireDefault(_helpersCollection);

/**
 * Collection constructor
 */
"user strict";

var CollectionHandler =

/**
  * Constructor
  *
  * @public
  * @param {Array} items Entity list
  * @param {Object} handler Entity handler
  * @param {Object} source Original response
  * @return {Array} Collection
  */
function CollectionHandler(items, handler, source) {
  _classCallCheck(this, CollectionHandler);

  var collection = new _helpersCollection2["default"](source);

  items.map(function (item) {
    return collection.push(new handler().convert(item));
  });

  if (collection.length) {
    collection.type = collection[0].type;
  }
  // collection.source = source; FIXME: review this
  return collection;
}

/**
 * Exports the CollectionHandler class.
 */
;

exports["default"] = CollectionHandler;
module.exports = exports["default"];